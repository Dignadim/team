<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="project.board.admin.AdminDAO">

	<!-- 회원가입 1건을 저장한다. -->
	<insert id="mbInsert" parameterType="mb_vo">
		insert into member (id, password, nickname, email) 
		values (#{id}, #{password}, #{nickname}, #{email})
	</insert>
	
	<!-- MemberVO에서 String id를 넘겨받아서 같은 아이디를 가진 memberVO를 찾아주는 명령문 -->
	 <select id="mbSearch" resultType="mb_vo" parameterType="String">
   		 select * from member where id=#{id}
  	</select>
  	
	 <select id="selectById" resultType="mb_vo" parameterType="String">
   		 select * from member where id=#{id}
  	</select>
  	
	<update  id="memberUpdate" parameterType="mb_vo">
		update member set nickname = #{nickname}, email = #{email}, password = #{password} where id = #{id} 
	</update>
	
<!-- admin에 쓰임  -->
	<select id="amSelectList" resultType="mb_vo">
		select * from member order by signupdate desc
	</select>
	
	 <select id="amSelectAll" resultType="mb_vo" >
	select * from member order by signupdate
	</select>
	
	<select id="amSelectAdmin" resultType="mb_vo">
	select * from member where grade = 'y'
	</select>
	
	<select id="amSelectNomal" resultType="mb_vo">
	select * from member where grade = 'n'
	</select>
	
	<select id="amSelectWarning" resultType="mb_vo">
	select * from member where grade = 'w'
	</select>
	
	<select id="amSelectBlock" resultType="mb_vo">
	select * from member where grade = 'b'
	</select>
	
	
	<!-- admin block에 쓰임  -->
	
	<update id="adminBlock" parameterType="java.util.HashMap">
		update member set grade = #{banType} where id = #{id}
	</update>
	
	 	
 	<!-- admin에 쓰임  -->
 	
	 <select id="abSelectList" resultType="fb_vo">
 		select * from fb_board where fb_notice = 'yes' 
	</select>
	
	<!-- 어드민에 들어가는 코드 -->
	<select id="aebSelectList" resultType="ev_vo">
	select * from ev_board where ev_notice = 'yes'	
	</select>
		


	
</mapper>
